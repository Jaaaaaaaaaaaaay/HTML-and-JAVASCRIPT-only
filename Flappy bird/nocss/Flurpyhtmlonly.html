<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Flappy Bird (No CSS)</title>
</head>
<body>
  <div id="game">
    <div id="bird"></div>
    <div id="score">0</div>
    <div id="startScreen">Press Space to Start</div>
  </div>

  <script>
    const gameWidth = 400;
    const gameHeight = 600;

    const game = document.getElementById("game");
    const bird = document.getElementById("bird");
    const scoreDisplay = document.getElementById("score");
    const startScreen = document.getElementById("startScreen");

    let birdTop = 200;
    let birdLeft = 50;
    let gravity = 2;
    let jumpHeight = 40;
    let pipes = [];
    let score = 0;
    let gameOver = false;
    let gameStarted = false;

    // Initialize game area
    game.style.position = "relative";
    game.style.width = gameWidth + "px";
    game.style.height = gameHeight + "px";
    game.style.border = "2px solid black";
    
    bird.style.position = "absolute";
    bird.style.width = "30px";
    bird.style.height = "30px";
    bird.style.background = "yellow";
    bird.style.left = birdLeft + "px";
    bird.style.top = birdTop + "px";

    scoreDisplay.style.position = "absolute";
    scoreDisplay.style.left = "10px";
    scoreDisplay.style.top = "10px";

    startScreen.style.position = "absolute";
    startScreen.style.width = gameWidth + "px";
    startScreen.style.height = gameHeight + "px";
    startScreen.style.textAlign = "center";
    startScreen.style.lineHeight = gameHeight + "px";
    startScreen.style.backgroundColor = "rgba(0,0,0,0.5)";
    startScreen.style.color = "white";
    startScreen.style.fontSize = "24px";

    // Jump and start game
    document.addEventListener("keydown", (e) => {
      if(!gameStarted && e.code === "Space") {
        gameStarted = true;
        startScreen.style.display = "none";
      }
      if(gameStarted) {
        birdTop -= jumpHeight;
        if(birdTop < 0) birdTop = 0;
      }
    });

    // Create pipes
    function createPipe() {
      const pipeGap = 150;
      const pipeHeight = Math.floor(Math.random() * 300) + 50;

      const topPipe = document.createElement("div");
      const bottomPipe = document.createElement("div");

      topPipe.style.position = "absolute";
      topPipe.style.width = "60px";
      topPipe.style.height = pipeHeight + "px";
      topPipe.style.left = gameWidth + "px";
      topPipe.style.top = "0px";
      topPipe.style.background = "green";

      bottomPipe.style.position = "absolute";
      bottomPipe.style.width = "60px";
      bottomPipe.style.height = (gameHeight - pipeHeight - pipeGap) + "px";
      bottomPipe.style.left = gameWidth + "px";
      bottomPipe.style.top = (pipeHeight + pipeGap) + "px";
      bottomPipe.style.background = "green";

      game.appendChild(topPipe);
      game.appendChild(bottomPipe);

      pipes.push({topPipe, bottomPipe, passed: false});
    }

    // Game loop
    function gameLoop() {
      if(gameOver || !gameStarted) {
        requestAnimationFrame(gameLoop);
        return;
      }

      // Bird gravity
      birdTop += gravity;
      if(birdTop > gameHeight - 30) { birdTop = gameHeight - 30; gameOver = true; alert("Game Over! Score: " + score); }
      bird.style.top = birdTop + "px";

      // Move pipes
      pipes.forEach(pipe => {
        let left = parseInt(pipe.topPipe.style.left);
        left -= 3;
        pipe.topPipe.style.left = left + "px";
        pipe.bottomPipe.style.left = left + "px";

        // Collision detection
        const birdRect = bird.getBoundingClientRect();
        const topRect = pipe.topPipe.getBoundingClientRect();
        const bottomRect = pipe.bottomPipe.getBoundingClientRect();

        if(birdRect.right > topRect.left && birdRect.left < topRect.right &&
           (birdRect.top < topRect.bottom || birdRect.bottom > bottomRect.top)) {
          gameOver = true;
          alert("Game Over! Score: " + score);
        }

        // Score
        if(!pipe.passed && left + 60 < birdLeft) {
          score++;
          scoreDisplay.textContent = score;
          pipe.passed = true;
        }
      });

      // Remove off-screen pipes
      pipes = pipes.filter(pipe => parseInt(pipe.topPipe.style.left) > -60);

      requestAnimationFrame(gameLoop);
    }

    // Spawn pipes every 2 seconds
    setInterval(() => { if(gameStarted && !gameOver) createPipe(); }, 2000);

    gameLoop();
  </script>
</body>
</html>
